# S3(Simple Storage Service)
## 主なユースケース
- データバックアップ
- ビッグデータ解析用などのデータレイク
- ETL(Exact/Transform/Load)の中間ファイル保存
- AutoScalingGroup構成されたインスタンスやコンテナからのログ転送
- 静的ホスティング
- key-value型のデータベース

## 構成要素
- バゲット
  > オブジェクトを保存する領域
- オブジェクト
  > 格納データ。URLが作成される。１オブジェクト`最大5TB`
- メタデータ
  > オブジェクトの作成日時やサイズなど、ユーザ定義メタデータを保持

## ストレージクラス

|Class|耐久性|可用性|
|---|---|---|
|STANDARD|99.999999999%(イレブンナイン)|99.99%|
|STANDARD_IA|99.999999999%(イレブンナイン)|99.9%|
|ONEZONE_IA|99.999999999%(イレブンナイン)|99.5%|
|INTELLIGENT_TIERING|99.999999999%(イレブンナイン)|99.9%|
|GLACIER|99.999999999%(イレブンナイン)|99.9%|

- STANDARD
  > デフォルト。低レイテンシーと高スループット。
- STANDARD_IA
  > 安価なストレージ。読み出し容量に対する従量課金
- ONEZONE_IA
  > 単一AZでデータを複製。それ以外は"Standard_IA"と同じ
- INTELLIGENT_TIERING
  > "Standard"と"Standard_IA"のに層構造。30日間参照無しで"Standard_IA"に移動される。
- GLACIER
  > アーカイブ目的。データアクセスするのに事前リクエストを申請。数時間かかる。

## ライフサイクル管理
- 移行アクション
    > `利用頻度`でストレージクラスを変更する。
- 有効期限アクション
    > 期限を超えたオブジェクトを`S3から削除`する。  
    > 保存容量に応じて従量課金のため、`コスト削減`。

## バージョニング
有効にすることで、1つのオブジェクトに対して複数のバージョンを管理可能。  
`バケット単位`で有効無効を指定。  
`差分ではなく新・旧オブジェクト`が保存。

## Webサイトホスティング機能
S3に配置した静的コンテンツをWebサイトとしてホスティングする環境を作成。

## S3のアクセス管理
バケットポリシー、ACL、IAMが利用可能。
- バケットポリシー
    > `バケット単位`。オブジェクト全てに適用。  
    > バケットの用途に応じた全体的なアクセス制御。
- ACL
    > `オブジェクト単位`で公開/非公開を制御。  
- IAM
    > `ユーザ単位`でS3のリソースを制御。

## 署名付きURL
特定のオブジェクトに`一時的に`アクセスを許可したいとき。

## データ暗号化
- サーバ側
    > ストレージ書き込みで暗号化、読み出しで復号
- クライアント側
    > SDKで送信前に暗号化、メタデータから復号

