# 学習記録

## SAA #001~#003

### インスタンスがインターネットに接続するためのステップ
1. サブネット作成
2. インターネットGWをアタッチ
3. カスタムルートテーブルを作成
4. セキュリティグループルールを変更
5. EIPを追加

### 他のユーザのELBは設定変更可能

### アイデンティティおよびリソースベースのポリシー
アクセス許可ポリシーを作成してリソースへのアクセスを制限する場合、アイデンティティベースのポリシーまたはリソースベースのポリシーを選択可能。

- アイデンティティベースのポリシー
IAMユーザ、グループ、ロールにアタッチ。そのアイデンティティが実行できる内容(アクセス許可)を指定する。

- リソースベースのポリシー
各リソースにアタッチする。例えば、S3バケット、SQSキューなど。

### リザーブドDBインスタンスの利点
マルチAZ、シングルAZの両設定に適用される。

### RDSの性能向上
||可用性|スループット増|レイテンシ|
|---|---|---|---|
|スケールアップ|-|●|-|
|Multi AZ|●|-|-|
|リードレプリカ|-|●|-|
|プロビジョンドIOPS|-|●|●|

### EC2インスタンスを別リージョンに移行する
インスタンスを停止し、AMIを作成し別リージョンへコピーする

### プロビジョンドIOSPの料金体系
プロビジョニングした容量(Gb/月)で決まり、そのストレージを解放するまで毎月料金が発生する。

## SAA #004

### RDSのマルチAZ配置
マルチAZDBインスタンスをプロビジョニングすると、プライマリDBインスタンスを自動的に作成すると同時に、異なるAZにあるスタンバイインスタンスにデータを複製する。

### EBSのボリュームステータス
ボリュームステータスチェックは5分ごとに自動的に施行され、成功または失敗のステータスを返す。

|ステータス||
|---|---|
|ok|すべてのチェックが成功した場合|
|impaired|失敗した場合|
|insufficient-data|実行中の場合|
|warning|パフォーマンスが下回っている|

### インスタンスの削除保護の有効化
起動時にインスタンスに対する削除保護を有効にするには、[Enalbe termiation protection]チェックボックスをオン
> 実行中・停止中でも削除保護は有効にできる。その場合は、[Action]から[Change Termination Protection]をクリック。

### クラスタープレイスメントグループ
クラスタープレイスメントグループは、単一のAZ内のインスタンスを論理的にグループ化したもの。主な利点は、10Gbpsのフロー制御に加え、非ブロッキング、非オーバーサブスクライブの完全に2分割されている接続であること。つまり、インスタンス間のネットワークレイテンシーを低く抑えることができる。

### DBインスタンスの最終スナップショット
DBインスタンスの削除時、デフォルトでRDSDBインスタンスを削除した場合、`自動バックアップと手動スナップショットは保持`される。

## SAA#005
### オンプレからAWSへの移行についての総合問題
#### インポートの可否
VMware ESXおよびMicrosoft Hyper-Vの仮想マシンイメージをAWS状にインポートするには、【VM Import/Export】を利用する。

#### 対応バージョン
32bit全般と、RHEL6.0は未対応(サポートなし)。

#### VMImportで対応しているインスタンスタイプ
一部のインスタンスタイプのみ対応。
- t2、m3、c3、cc2、cr1、hi1、hs1、i2、cg1

#### GPTについて
- Windows
GPTパーティション分割ボリュームではイメージ形式としてVHDXのみサポートされている。

- Linux/Unix
GPTでパーティション分割されたボリュームはサポートされていない。

#### インポート時の注意(ログオン)
Windows側でリモートデスクトップによるリモート管理を有効にしていないと、EC2インスタンスにログオンできない。
また、WindowsFirewallでRDP(TCP:3389)のポートをブロックしないように設定する。
AWS側はセキュリティグループでTCP:3389を空ける必要もある

#### インポート時の注意(インポート失敗)
VMImportはインポート中に自動的にEC2Config Serviceをインストールするため、事前に.NET Framework 3.5 SP1をインストールしておく必要がある。

#### インポート時の注意(Windowsのアクティベーション失敗)
インポート完了後に時刻設定がずれることが原因でWindowsアクティベーションに失敗することがある。
タイムゾーンをUTCに設定し、NTPサーバと時刻同期を行う。

#### いポート時の注意(IPアドレス)
インポート後、EC2インスタンスはIPアドレスを取得できないため、インポートに失敗する。
DHCPを有効にしてインポートすることで、EC2インスタンスがIPアドレスを取得できるようになる。

## SAA#006
### NATインスタンス
EC2インスタンスは送受信する任意のトラフィックの送信元、または送信先である必要がある(送信元/送信先チェック)。しかしNATインスタンスは送信元/先が自身でない場合にもトラフィックを送受信できなければならない。よって送信元/送信先チェック(SrcDestCheck属性)を無効にする必要がある。

### プレイスメントグループ
- クラスタープレイスメントグループ
2つのインスタンスを単一のAZにないの低レイテンシーグループにクラスタ化する

- スプレッドプレイスメントグループ
基盤となるハードウェアにインスタンスを分散する。


---
## 進捗
* [X] ~~*SAA#001*~~ [2020-09-29]
* [X] ~~*SAA#002*~~ [2020-09-29]
* [X] ~~*SAA#003*~~ [2020-09-29]
* [ ] AWS理解度確認テストPart1
* [X] ~~*SAA#004*~~ [2020-09-29]
* [X] ~~*SAA#005*~~ [2020-09-29]
* [ ] SAA#006
* [ ] SAA#007
* [ ] SAA#008
* [ ] SAA#009
* [ ] SAA#010
* [ ] SAA#011
* [ ] SAA#012
* [ ] SAA#013
* [ ] SAA#014
* [ ] SAA#015
* [ ] SAA#016
* [ ] SAA#017
* [ ] SAA#018
* [ ] SAA#019
* [ ] SAA#020
* [ ] SAA#021
* [ ] SAA#022
* [ ] SAA#023
* [ ] SAA#024
* [ ] SAA#025
* [ ] SAA#026
* [ ] SAA#027
* [ ] SAA#028
* [ ] SAA#029
* [ ] SAA#030
* [ ] SAA#031
* [ ] SAA#032
* [ ] SAA#033
* [ ] SAA#034
* [ ] SAA#035
* [ ] SAA#036
* [ ] SAA#037
* [ ] SAA#038
* [ ] SAA#039
* [ ] SAA#040
* [ ] SAA#041
* [ ] SAA#042
* [ ] SAA#043
* [ ] SAA#044
* [ ] SAA#045
* [ ] SAA#046
* [ ] SAA#047
* [ ] SAA#048
* [ ] SAA#049
* [ ] SAA#050
* [ ] SAA#051
* [ ] SAA#052
* [ ] SAA#053
* [ ] SAA#054
* [ ] SAA#055
* [ ] SAA#056
* [ ] SAA#057
* [ ] SAA#058
* [ ] SAA#059
* [ ] SAA#060
* [ ] SAA#061
* [ ] SAA#062
* [ ] SAA#063
* [ ] SAA#064
* [ ] SAA#065
* [ ] SAA#066
* [ ] SAA#067
* [ ] SAA#068
* [ ] SAA#069
* [ ] SAA#070
* [ ] SAA#071
* [ ] SAA#072
* [ ] SAA#073
* [ ] SAA#074
* [ ] SAA#075
* [ ] SAA#076
* [ ] SAA#077
* [ ] SAA#078
* [ ] SAA#079
* [ ] SAA#080
* [ ] SAA#081
* [ ] SAA#082
* [ ] SAA#083
* [ ] SAA#084
* [ ] SAA#085
* [ ] SAA#086
* [ ] SAA#087
* [ ] SAA#088
* [ ] SAA#089
* [ ] SAA#090
* [ ] SAA#091
* [ ] SAA#092
* [ ] SAA#093
* [ ] SAA#094
* [ ] SAA#095
* [ ] SAA#096
* [ ] SAA#097
* [ ] SAA#098
* [ ] SAA#099
* [ ] SAA#100
* [ ] SAA#101
* [ ] SAA#102
* [ ] SAA#103
* [ ] SAA#104
* [ ] SAA#105
* [ ] SAA#106
* [ ] SAA#107
* [ ] SAA#108
* [ ] SAA#109
* [ ] SAA#110
* [ ] SAA#111
* [ ] SAA#112
* [ ] SAA#113
* [ ] SAA#114
* [ ] SAA#115
* [ ] SAA#116
* [ ] SAA#117
* [ ] SAA#118
* [ ] SAA#119
* [ ] SAA#120
* [ ] SAA#121
* [ ] SAA#122
* [ ] SAA#123
* [ ] SAA#124
* [ ] SAA#125
* [ ] SAA#126
* [ ] SAA#127
* [ ] SAA#128
* [ ] SAA#129
* [ ] SAA#130
* [ ] SAA#131
* [ ] SAA#132
* [ ] SAA#133
* [ ] SAA#134
* [ ] SAA#135
* [ ] SAA#136
